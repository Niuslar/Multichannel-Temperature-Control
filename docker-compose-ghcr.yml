# declarations used to pull from ghcr the official latest image used in production
# this image is used in the automated workflow to build stm32 app and deploy it to Nucleo
# except for the image name, everything should be the same as in docker-compose-local.yml (so that the image is built in the same way both in production and locally, to ease testing)

version: '3'

services:

  build:
    image: ghcr.io/niuslar/stm32-cubeide-headless:latest
    build: ./CI
    volumes:
      - ".:/workspace/Multichannel-Temperature-Control"
    command:
      [
        "/bin/bash",
        "-c",
        "/workspace/Multichannel-Temperature-Control/builder.sh"
      ]
